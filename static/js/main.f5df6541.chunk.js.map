{"version":3,"sources":["components/DatePicker.js","utils.js","components/Loader.js","components/Apod.js","pages/MainPage.js","components/Navbar.js","components/ApodPreview.js","components/ApodsList.js","components/ModalView.js","components/ExpanedApod.js","pages/Catalog.js","App.js","index.js"],"names":["DatePicker","date","onChange","className","htmlFor","name","type","value","e","target","formatDate","year","getFullYear","month","getMonth","day","getDate","Loader","Apod","imgUrl","title","description","src","alt","MainPage","useState","window","localStorage","getItem","Date","setDate","apod","setApod","loading","setLoading","useEffect","setItem","fetch","process","then","response","status","json","Error","catch","alert","url","explanation","Navbar","activeClassName","exact","to","ApodPreview","onClick","ApodList","apods","map","c","key","ModalView","onDismiss","children","ExpanedApod","hdurl","Catalog","setApods","pickedDate","setPickedDate","show","setShow","data","today","dates","i","push","console","log","getDatesRange","a","match","Promise","all","filter","x","App","basename","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5df6541.chunk.js","sourcesContent":["import React from 'react'\n\nexport const DatePicker = ({date, onChange}) => {\n    const handleChange = e => onChange(e.target.value)\n    return(\n        \n        <div className=\"date-picker\">\n            <label htmlFor=\"picker\">Let's pick a date</label>\n            <input name=\"picker\" type=\"date\" value={date} onChange={handleChange} />\n        </div>\n        \n    )\n}","export const formatDate = date => {\n    let year = date.getFullYear()\n    let month = date.getMonth() + 1\n    month = month < 10 ? '0' + month : month\n    let day = date.getDate()\n    day = day < 10 ? '0' + day : day\n\n    return year + '-' + month + '-' + day\n}\n\nexport const fetchApod = (date, callback) => {\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_NASA_API_KEY}&date=${date}`).then(\n                response =>  response.json()\n            )\n            .then(apod => {\n                if(apod.url.match(/\\.(gif|jpe?g|png)$/)){\n                    callback(apod)\n                }\n                else{\n                    throw Error(\"No image\")\n                }\n            })\n}\n\nexport const getDatesRange = () =>{\n    const today = new Date()\n    const dates = []\n    for(let i = 0; i < 30; i++){\n        let day = new Date()\n        day.setDate(today.getDate() - i)\n        dates.push(day)\n    }\n    console.log( dates)\n    return dates.map(date => formatDate(date))\n}","import React from 'react'\nimport  './Loader.css'\n\nconst Loader = () => {\n    // return(\n    //     <div className=\"loader-container\">\n    //              Loading...\n    //     </div>\n    // )\n    return(\n        <div className=\"loader\">\n                <div className=\"animation-container\">\n                <div className=\"animation-group\">\n                    <span className=\"loader-component\"></span>\n                    <span className=\"loader-component\"></span>\n                    <span className=\"loader-component\"></span>\n                    <span className=\"loader-component\"></span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loader;","import React from 'react'\n\nconst Apod = ({imgUrl, title, description}) => {\n\n    return(\n    <div className=\"apod-container\">\n\n        <header>\n            <h2 className=\"title\">{title}</h2>  \n        </header>\n        <div className=\"picture-container\">\n            <img \n                src={imgUrl} \n                alt={title} \n                className=\"picture\"\n                />\n            <div className=\"description-container\">\n                <p>\n                    {description}\n                </p>\n            </div>\n        </div> \n            \n    </div>\n    )  \n}\n\nexport default Apod","import React, { useState, useEffect } from 'react'\nimport { DatePicker } from '../components/DatePicker'\nimport { formatDate } from '../utils';\nimport Loader from '../components/Loader';\nimport Apod from '../components/Apod';\n\n\nconst MainPage = () => {\n  const initialDate = () => window.localStorage.getItem(\"date\") || formatDate(new Date());\n\n  const [date, setDate] = useState(initialDate)\n  const [apod, setApod] = useState(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => window.localStorage.setItem(\"date\", date), [date]);\n  \n  useEffect(() => {\n    setLoading(true)\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_NASA_API_KEY}&date=${date}`)\n        .then(response => {\n            if(response.status === 200){\n                return response.json()\n            }else{\n                throw Error()\n            }\n        })\n        .then(setApod)\n        .then(() => setLoading(false))\n        .catch(() => alert(\"Something went wrong. Try to pick another date.\"))\n    \n}, [date])\n\n  return (\n    <section className=\"main-section\">\n        <header className=\"section-header\">\n            <h1 className=\"section-title\">Astronomy Picture of the Day</h1>\n        </header>\n        <DatePicker date={date} onChange={setDate}/>\n        {loading ? <Loader/>:<Apod imgUrl={apod.url} title={apod.title} description={apod.explanation}/> }\n    </section>)\n}\n\nexport default MainPage\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\n\n\nconst Navbar = () => {\n    return (\n        <header className=\"header\">\n            <h1>APoD</h1>\n            <nav className=\"navbar\">\n                <NavLink className=\"nav-link\" activeClassName=\"active-link\" exact to='/' >Home</NavLink>\n                <NavLink className=\"nav-link\" activeClassName=\"active-link\" to='/catalog'>Catalog</NavLink>              \n            </nav>\n        </header>\n    )\n\n}\nexport default Navbar;","import React from 'react'\n\nexport const ApodPreview = ({imgUrl, date, title, onClick}) => {\n    return(\n        <div className=\"preview\" onClick={onClick}>\n                <img className=\"preview-img\" src={imgUrl} alt={title}/>\n                <span className=\"preview-title\">{title}</span>\n                <span className=\"preview-date\">{date}</span>\n        </div>\n    )\n}","import React from 'react'\nimport { ApodPreview } from './ApodPreview'\n\nexport const ApodList= ({apods, onClick}) => {\n    return(\n        <div className=\"apods-list\">\n            {apods.map(c => \n            <ApodPreview \n                imgUrl={c.url} \n                title={c.title} \n                date={c.date} \n                key={c.date} \n                onClick={() => onClick(c.date)}\n            />)}\n        </div>\n    )\n}","import React from 'react'\n\nconst ModalView = ({onDismiss, children}) => {\n    return(\n        <div className=\"window\" onClick={onDismiss}>\n                    {children}\n        </div>\n    )\n}\n\nexport default ModalView","import React, { useState, useEffect } from 'react'\nimport ModalView from './ModalView'\n\nconst ExpanedApod = ({date, onDismiss}) => {\n    const [apod, setApod] = useState(null)\n\n    useEffect(() => {\n        fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_NASA_API_KEY}&date=${date}&hd=true`)\n            .then(response => {\n                if(response.status === 200){\n                    return response.json()\n                }else{\n                    throw Error()\n                }\n            })\n            .then(setApod)\n            .catch(() => alert(\"Something went wrong. Try to pick another date.\"))\n        },[date])\n\n    return(\n        <ModalView onDismiss={onDismiss}>\n            {apod && <img \n                    src={apod.hdurl} \n                    alt={apod.title} \n                    className=\"modal-image\"\n                    />\n                }\n        </ModalView>\n    )\n}\n\nexport default ExpanedApod","import React, { useState, useEffect } from 'react'\nimport { ApodList } from '../components/ApodsList';\nimport Loader from '../components/Loader';\nimport { getDatesRange } from '../utils';\nimport ExpanedApod from '../components/ExpanedApod';\n\n\nconst Catalog = () => {\n    const [apods, setApods] = useState(null)\n    const [loading, setLoading] = useState(true)\n\n\n    const [pickedDate, setPickedDate] = useState('2020-10-12')\n    const [show, setShow] = useState(false)\n\n    useEffect(() => {\n        const dates = getDatesRange()\n        const data = dates.map(async date => {\n            const response = await fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_NASA_API_KEY}&date=${date}`);\n            if(response.status !== 200){\n                return null\n            }\n            const apod = await response.json();\n            if (!apod.url.match(/\\.(gif|jpe?g|png)$/)) {\n                return null\n            }\n            return apod\n        })\n        Promise.all(data).then(data => setApods(data.filter(x => !!x))).then(() => setLoading(false))\n    }, [])\n\n    const handleClick = date => {\n        setPickedDate(date)\n        setShow(true)\n    }\n\n  return (\n      <section className=\"main-section\">\n          <header className=\"section-header\">\n              <h1 className=\"section-title\">APODs from the last 30 days</h1>\n              <span className=\"section-details\">* Click to expand HD *</span>\n          </header>\n        {loading? <Loader/> : <ApodList apods={apods} onClick={handleClick}/>}\n        {show && <ExpanedApod date={pickedDate} onDismiss={() => setShow(false)}/>}\n      </section>\n  );\n}\n\nexport default Catalog\n","import React from 'react'\nimport MainPage from './pages/MainPage';\nimport Navbar from './components/Navbar';\nimport { Switch, Route,  HashRouter as Router } from 'react-router-dom';\nimport Catalog from './pages/Catalog';\n\n\nconst App = () => {\n  return (\n    <Router basename='/'>\n      <div className=\"container\">\n            <Navbar/>\n              <Switch>\n                  <Route path='/catalog' component={Catalog}/>\n                  <Route exact path='/' component={MainPage}/>\n              </Switch>\n        </div>\n      </Router>\n    \n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}